# Description: open source electronics design automation suite
# URL: http://kicad-pcb.org/
# Maintainer: David Brooke, crux at dbrooke dot me dot uk
# Depends on: cmake wxpython glew boost swig

name=kicad
version=4.0.5
release=1
source=(https://launchpad.net/$name/4.0/$version/+download/$name-$version.tar.xz
        boost.patch)

build() {
	cd $name-$version

	export CXXFLAGS+=" -std=c++11"
	patch -p1 -i $SRC/boost.patch

	mkdir build
	cd build
	cmake -DKICAD_SCRIPTING=ON -DKICAD_SCRIPTING_MODULES=ON -DKICAD_SCRIPTING_WXPYTHON=ON -DKICAD_SKIP_BOOST=ON -DCMAKE_INSTALL_PREFIX=/usr ..
	make
	make DESTDIR=$PKG install
	rm -r $PKG/usr/share/doc/
}
